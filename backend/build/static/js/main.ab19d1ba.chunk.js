(this.webpackJsonpphonebookCSS=this.webpackJsonpphonebookCSS||[]).push([[0],{10:function(e,n,t){},11:function(e,n,t){},21:function(e,n,t){e.exports=t(43)},43:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(20),c=t.n(o),u=(t(10),t(7)),l=t(8),i=t(2),s={margin:"7px"},d={backgroundColor:"rgba(206, 208, 200, 0.39)",padding:"8px",margin:"auto",borderRadius:"10pt",width:"260px",border:"1px solid rgba(89, 91, 62, 0.57)"},m={color:"#fff",padding:"0.5rem 0",cursor:"pointer",margin:"0.5rem 1rem",width:"8rem",background:"transparent",border:"2px solid white",fontWeight:"bold",display:"inline-block",borderRadius:"10px"},f=function(e){var n=e.results,t=e.handleDelete,a=function(e){e.target.style.background="#F5F5F5",e.target.style.color="#ed1212"},o=function(e){e.target.style.background="rgba(206, 208, 200, 0.39)",e.target.style.color="#fff"},c=n.map((function(e){return r.a.createElement("div",{style:s,key:e.id},r.a.createElement("div",{style:d},e.name,": ",e.number,r.a.createElement("span",{className:"buttonStyle1hover"},r.a.createElement("div",null,r.a.createElement("button",{onMouseEnter:a,onMouseLeave:o,style:m,onClick:t,value:e.id},"Delete")))))}));return r.a.createElement(r.a.Fragment,null,c)},b=(t(11),{textAlign:"center"}),g={background:"rgba(89, 91, 62, 0.57)",padding:"10px",margin:"auto",borderRadius:"10pt",width:"240px"},p=function(e){var n=e.handleNameFilter,t=e.searchTerm;return r.a.createElement("div",{className:"center"},r.a.createElement("div",{style:g},"Filter shown with:",r.a.createElement("br",null),r.a.createElement("input",{style:b,value:t,onChange:n,placeholder:"Search"})))},h=t(5),v={justifyContent:"center",alignItems:"center",marginBottom:"6px"},E={marginTop:"5px",textAlign:"center"},y={justifyContent:"center",alignItems:"center",marginBottom:"6px"},x={marginTop:"5px",textAlign:"center"},w={},j={padding:"6px 6px"},N={background:"#2E8B57",color:"#fff",padding:"5px 10px",borderRadius:"5%",cursor:"pointer",textAlign:"right",border:"none"},O=Object(h.a)({backgroundColor:"rgba(89, 91, 62, 0.57)",padding:"4px",margin:"auto",borderRadius:"10pt",width:"260px"},"padding","10px"),k=function(e){var n=e.addNewPerson,t=e.newName,a=e.handleNameChange,o=e.handleNumberChange,c=e.newNumber;return r.a.createElement("div",{style:w},r.a.createElement("div",{style:O},r.a.createElement("form",{onSubmit:n},"Name:",r.a.createElement("label",{style:v},r.a.createElement("input",{style:E,name:"nameInput",value:t,onChange:a,placeholder:"John Doe"})),"Number:",r.a.createElement("label",{style:y},r.a.createElement("input",{style:x,name:"numberInput",type:"number",value:c,onChange:o,placeholder:"0447351234"})),r.a.createElement("div",{style:j},r.a.createElement("button",{onMouseEnter:function(e){e.target.style.background="rgba(3, 166, 27, 0.68)"},onMouseLeave:function(e){e.target.style.background="#2E8B57"},style:N,type:"submit"},"add")))))},C=t(4),S=t.n(C),T="api/persons",D=function(){return S.a.get(T).then((function(e){return e.data}))},M=function(e){return S.a.post(T,e).then((function(e){return e.data}))},A=function(e){return S.a.delete("".concat(T,"/").concat(e)).then((function(e){return e.data}))},F=function(e,n){return S.a.put("".concat(T,"/").concat(e),n).then((function(e){return e.data}))},I=function(e){var n=e.errorMessage;return JSON.stringify(n),null===n?null:r.a.createElement("div",{className:"error"},n)},L=function(e){var n=e.successMessage;return null===n?null:r.a.createElement("div",{className:"success"},n)},B={textDecorationLine:"underline",textAlign:"center",fontSize:"30px"},J=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),s=Object(i.a)(c,2),d=s[0],m=s[1],b=Object(a.useState)(""),g=Object(i.a)(b,2),h=g[0],v=g[1],E=Object(a.useState)(""),y=Object(i.a)(E,2),x=y[0],w=y[1],j=Object(a.useState)(null),N=Object(i.a)(j,2),O=N[0],C=N[1],S=Object(a.useState)(null),T=Object(i.a)(S,2),J=T[0],R=T[1];Object(a.useEffect)((function(){D().then((function(e){o(e)})).catch((function(e){console.log("error",e)}))}),[]);var P=x?t.filter((function(e){return e.name.toLowerCase().includes(x.toLocaleLowerCase())})):t;return r.a.createElement("div",null,r.a.createElement("h2",{style:B},"Phonebook"),r.a.createElement(I,{errorMessage:O}),r.a.createElement(L,{successMessage:J}),r.a.createElement(p,{searchTerm:x,handleNameFilter:function(e){w(e.target.value)}}),r.a.createElement("h3",null,"Add a new person:"),r.a.createElement(k,{addNewPerson:function(e){e.preventDefault();var n={name:d,number:h},a=Object(l.a)(t).map((function(e){return e.name}));if(a.includes(n.name)&&0===n.number.length)alert("".concat(d," is already added to phonebook"));else{if(a.includes(n.name)&&n.number.length>0){if(window.confirm("".concat(d," is already added to phonebook, replace the\n    old number with a new one?"))){var r=t.find((function(e){return e.name==="".concat(d)})).id,c=t.find((function(e){return e.id===r})),i=Object(u.a)(Object(u.a)({},c),{},{number:n.number});F(r,i).then((function(e){o(t.map((function(n){return n.id!==r?n:e}))),R("Changed ".concat(d,"'s phone number successfully")),setTimeout((function(){R(null)}),5e3)})).catch((function(e){console.log("error on put:",e),C("Information of ".concat(d," has already been removed from server")),setTimeout((function(){C(null)}),5e3),o(t.filter((function(e){return e.id!==r})))}))}}else M(n).then((function(e){o(t.concat(e)),R("Added ".concat(d)),setTimeout((function(){R(null)}),5e3)})).catch((function(e){var t=JSON.stringify(e.response.data);(n.name.length<3||n.number.length<8)&&(C("".concat(t)),setTimeout((function(){C(null)}),9e3))}));m(""),v("")}},newName:d,handleNameChange:function(e){m(e.target.value)},newNumber:h,handleNumberChange:function(e){v(e.target.value)}}),r.a.createElement("h3",null,"Numbers: "),r.a.createElement(f,{results:P,handleDelete:function(e){var n=e.target.value,a=Object(l.a)(t),r=Object(u.a)({},t.find((function(e){return e.id===n})));window.confirm("Delete ".concat(r.name," ?"))&&A(n).then((function(){var e=a.filter((function(e){return e.id!==n}));o(e),R("Deleted name '".concat(r.name,"' successfully")),setTimeout((function(){R(null)}),5e3)})).catch((function(e){console.log("delete error:",e)}))},personid:P.map((function(e){return e.id}))}))};c.a.render(r.a.createElement(J,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.ab19d1ba.chunk.js.map